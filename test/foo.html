<meta charset='utf-8'><div style="color: #3b3b3b;background-color: #ffffff;font-family: Menlo, Monaco, 'Courier New', monospace;font-weight: normal;font-size: 12px;line-height: 18px;white-space: pre;"><div><span style="color: #af00db;">export</span><span style="color: #3b3b3b;"> </span><span style="color: #0000ff;">const</span><span style="color: #3b3b3b;"> </span><span style="color: #0070c1;">initialState</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">=</span><span style="color: #3b3b3b;"> { </span><span style="color: #001080;">depth</span><span style="color: #001080;">:</span><span style="color: #3b3b3b;"> </span><span style="color: #098658;">0</span><span style="color: #3b3b3b;"> };</span></div><div><span style="color: #af00db;">export</span><span style="color: #3b3b3b;"> </span><span style="color: #0000ff;">const</span><span style="color: #3b3b3b;"> </span><span style="color: #0070c1;">aspect</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">=</span><span style="color: #3b3b3b;"> {</span></div><div><span style="color: #3b3b3b;">  </span><span style="color: #001080;">pointcut</span><span style="color: #001080;">:</span><span style="color: #3b3b3b;"> [</span><span style="color: #a31515;">"apply@around"</span><span style="color: #3b3b3b;">],</span></div><div><span style="color: #3b3b3b;">  </span><span style="color: #001080;">advice</span><span style="color: #001080;">:</span><span style="color: #3b3b3b;">  {</span></div><div><span style="color: #3b3b3b;">    </span><span style="color: #a31515;">"apply@around"</span><span style="color: #001080;">:</span><span style="color: #3b3b3b;"> (</span><span style="color: #001080;">state</span><span style="color: #3b3b3b;">, </span><span style="color: #001080;">callee</span><span style="color: #3b3b3b;">, </span><span style="color: #001080;">thisArgument</span><span style="color: #3b3b3b;">, </span><span style="color: #001080;">argumentList</span><span style="color: #3b3b3b;">, </span><span style="color: #001080;">path</span><span style="color: #3b3b3b;">) </span><span style="color: #0000ff;">=&gt;</span><span style="color: #3b3b3b;"> {</span></div><div><span style="color: #3b3b3b;">      </span><span style="color: #001080;">state</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">depth</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+=</span><span style="color: #3b3b3b;"> </span><span style="color: #098658;">1</span><span style="color: #3b3b3b;">;</span></div><div><span style="color: #3b3b3b;">      </span><span style="color: #af00db;">try</span><span style="color: #3b3b3b;"> {</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #001080;">console</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">log</span><span style="color: #3b3b3b;">(</span><span style="color: #a31515;">"."</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">repeat</span><span style="color: #3b3b3b;">(</span><span style="color: #001080;">state</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">depth</span><span style="color: #3b3b3b;">) </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #a31515;">" &gt;&gt; "</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">callee</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">name</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #a31515;">" at "</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">path</span><span style="color: #3b3b3b;">);</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #0000ff;">const</span><span style="color: #3b3b3b;"> </span><span style="color: #0070c1;">result</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">=</span><span style="color: #3b3b3b;"> </span><span style="color: #267f99;">Reflect</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">apply</span><span style="color: #3b3b3b;">(</span><span style="color: #001080;">callee</span><span style="color: #3b3b3b;">, </span><span style="color: #001080;">thisArgument</span><span style="color: #3b3b3b;">, </span><span style="color: #001080;">argumentList</span><span style="color: #3b3b3b;">);</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #001080;">console</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">log</span><span style="color: #3b3b3b;">(</span><span style="color: #a31515;">"."</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">repeat</span><span style="color: #3b3b3b;">(</span><span style="color: #001080;">state</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">depth</span><span style="color: #3b3b3b;">) </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #a31515;">" &lt;&lt; "</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">callee</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">name</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #a31515;">" at "</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">path</span><span style="color: #3b3b3b;">);</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #af00db;">return</span><span style="color: #3b3b3b;"> </span><span style="color: #0070c1;">result</span><span style="color: #3b3b3b;">;</span></div><div><span style="color: #3b3b3b;">      } </span><span style="color: #af00db;">catch</span><span style="color: #3b3b3b;"> (</span><span style="color: #001080;">error</span><span style="color: #3b3b3b;">) {</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #001080;">console</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">log</span><span style="color: #3b3b3b;">(</span><span style="color: #a31515;">"."</span><span style="color: #3b3b3b;">.</span><span style="color: #795e26;">repeat</span><span style="color: #3b3b3b;">(</span><span style="color: #001080;">state</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">depth</span><span style="color: #3b3b3b;">) </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #a31515;">" !! "</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">callee</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">name</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #a31515;">" at "</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">+</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">path</span><span style="color: #3b3b3b;">);</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #af00db;">throw</span><span style="color: #3b3b3b;"> </span><span style="color: #001080;">error</span><span style="color: #3b3b3b;">;</span></div><div><span style="color: #3b3b3b;">      } </span><span style="color: #af00db;">finally</span><span style="color: #3b3b3b;"> {</span></div><div><span style="color: #3b3b3b;">        </span><span style="color: #001080;">state</span><span style="color: #3b3b3b;">.</span><span style="color: #001080;">depth</span><span style="color: #3b3b3b;"> </span><span style="color: #000000;">-=</span><span style="color: #3b3b3b;"> </span><span style="color: #098658;">1</span><span style="color: #3b3b3b;">;</span></div><div><span style="color: #3b3b3b;">      }</span></div><div><span style="color: #3b3b3b;">    },</span></div><div><span style="color: #3b3b3b;">  },</span></div><div><span style="color: #3b3b3b;">};</span></div></div>